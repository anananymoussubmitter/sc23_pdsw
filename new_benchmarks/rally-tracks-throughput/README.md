# Our rally tracks

This folder is based on [elastics rally-tracks repository on Github](https://github.com/elastic/rally-tracks).

Every folder not here explained is the same as remote.

In order to use the benchmarks described some data has to be either downloaded or generated. This is due to githubs non-LFS size limits. See below for the specific descriptions.

## `./encryption`

The encryption folder is not a track, but instead a way to encrypt any corpus. It has an extensive readme in it.

## `./geonames`

Geonames is patched in such a way that it won't look up remotely. Please download the `documents.json.bz2` (using `download.sh`) decompress it and put it into the geonames folder before starting the benchmark

## `./nyc_taxis*`
To remove redundancy between the versions, it is patched in such a way that it expects the `documents.json` in a folder called `./rally-tracks-throughput/nyc_data`. Download it using the `./download.sh` script. If the encrypted versions are used, the correct filename is `documents_encrypted.json`. This can be generated by running the encryption script on the `documents.json`.

## `./mrirally_*`
The mrirally benchmarks expect to have a pregenerated corpus. As explained in the root README, it can be regenerated using the `generate_json.sh` script.

If the encrypted benchmarks should be used, please encrypt them beforehand using the encryption workflow explained in `./encryption`.

## What does `patched` mean?
Patched mainly means the following:
- The shard size was adapted to have 1 shard per node
- The number of operations was increased so that there is enough utilization.
